<div class="unit-content">
<body id="apex_database_dml_learning_objectives"><a name="apex_database_dml_learning_objectives"></a>
<div class="nested0">
<h2 class="helpHead2" id="Tdxn4tBK-heading1"><span class="ph" id="topic-title"><a name="topic-title"></a>Learning Objectives</span></h2>
<div class="body">
<div class="p" id="p2"><a name="p2"></a>After completing this unit, you'll be able to: <ul class="ul bulletList">
<li class="li">Use DML to insert, update, and delete records.</li>
<li class="li">Perform DML statements in bulk.</li>
<li class="li">Use upsert to either insert or update a record.</li>
<li class="li">Catch a DML Exception.</li>
<li class="li">Use a Database method to insert new records with the partial success option and
                    process the results.</li>
<li class="li">Know when to use DML statements and when to use Database methods.</li>
<li class="li">Perform DML operations on related records.</li>
</ul>
</div>
</div>
</div>
<div class="topic concept nested0" id="apex_database_dml_topic" lang="en-us" xml:lang="en-us" xmlns:xml="http://www.w3.org/XML/1998/namespace"><a name="apex_database_dml_topic"></a>
<h2 class="helpHead2" id="Tdxn4tBK-heading2"><span class="ph" id="topic-title"><a name="topic-title"></a>Manipulate Records with DML</span></h2>
<div class="body conbody"><div class="shortdesc">Create and modify records in Salesforce by using the Data Manipulation Language,
    abbreviated as DML. DML provides a straightforward way to manage records by providing simple
    statements to insert, update, merge, delete, and restore records.</div>
<div class="section"><div class="p"><p class="p">Because Apex is a data-focused language and is saved on the Force.com platform, it
        has direct access to your data in Salesforce. Unlike other programming languages that
        require additional setup to connect to data sources, with Apex DML, managing records is made
        easy! By calling DML statements, you can quickly perform operations on your Salesforce
        records.</p>
This example adds the Acme account to Salesforce. An account sObject is
        created first and then passed as an argument to the <samp>insert</samp> statement, which persists the record in Salesforce.<div class="codeblock"><pre>// Create the account sObject 
Account acct = new Account(Name='Acme', Phone='(415)555-1212', NumberOfEmployees=100);
// Insert the account by using DML
insert acct;</pre></div>
</div></div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading3">DML Statements</h3>
<p class="p">The following DML statements are available.</p>
<ul class="ul bulletList">
<li class="li"><samp>insert</samp></li>
<li class="li"><samp>update</samp></li>
<li class="li"><samp>upsert</samp></li>
<li class="li"><samp>delete</samp></li>
<li class="li"><samp>undelete</samp></li>
<li class="li"><samp>merge</samp></li>
</ul>
<p class="p">Each DML statement accepts either a single sObject or a list (or array) of sObjects.
        Operating on a list of sObjects is a more efficient way for processing records.</p>
<p class="p">All those statements, except a couple, are familiar database operations. The <samp>upsert</samp> and <samp>merge</samp>
        statements are particular to Salesforce and can be quite handy. </p>
<p class="p">The <samp>upsert</samp> DML operation c<span class="ph" id="d650989e79-d651023e52"><a name="d650989e79-d651023e52"></a>reates new records and updates sObject records within a
                    single statement,</span>
<span class="ph" id="d650989e79-d651023e55"><a name="d650989e79-d651023e55"></a>using a specified field to determine the presence of
                    existing objects, or the ID field if no field is specified.</span></p>
<p class="p">The <samp>merge</samp> statement merges up to
                three records of the same sObject type into one of the records, deleting the others,
                and re-parenting any related records.</p>
</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading4">ID Field Auto-Assigned to New Records</h3>
<p class="p">When inserting records, the system assigns an ID for each record. In addition to persisting
        the ID value in the database, the ID value is also autopopulated on the sObject variable
        that you used as an argument in the DML call.</p>
<p class="p">This example shows how to get the ID on the sObject that corresponds to the inserted
        account.</p>
<div class="codeblock"><pre>// Create the account sObject 
Account acct = new Account(Name='Acme', Phone='(415)555-1212', NumberOfEmployees=100);
// Insert the account by using DML
insert acct;

// Get the new ID on the inserted sObject argument
ID acctID = acct.Id;
// Display this ID in the debug log
System.debug('ID = ' + acctID);

// Debug log result (the ID will be different in your case)
// DEBUG|ID = 001D000000JmKkeIAF</pre></div>
<div class="btb callout box guidedTour"><div class="inner"><div class="bd"><div class="media"><div class="mediaBd"><h4 class="mbs">Beyond the Basics</h4><p>Because the sObject variable in the example contains the ID
        after the DML call, you can reuse this sObject variable to perform further DML operations,
        such as updates, as the system will be able to map the sObject variable to its corresponding
        record by matching the ID.<p class="p">You can retrieve a record from the database to obtain its
          fields, including the ID field, but this can’t be done with DML. You’ll need to write a
          query by using SOQL. You’ll learn about SOQL in another unit.</p>
</p></div></div></div></div></div>
</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading5"><span class="ph" id="bulk_dml"><a name="bulk_dml"></a>Bulk DML</span></h3>
<p class="p">You can perform DML operations either on a single sObject, or in bulk on a list of
                sObjects. Performing bulk DML operations is the recommended way because it helps
                avoid hitting governor limits, such as the DML limit of 150 statements per Apex
                transaction. This limit is in place to ensure fair access to shared resources in the
                    Force.com
                multitenant platform. Performing a DML operation on a list of sObjects counts as one
                DML statement for all sObjects in the list, as opposed to one statement for each
                sObject.</p>
<p class="p">This example inserts contacts in bulk by inserting a list of contacts in one call. The
        sample then updates those contacts in bulk too.</p>
<ol class="ol enumList">
<li class="li">Execute this snippet in the Developer Console using Anonymous
          Apex.<div class="codeblock"><pre>// Create a list of contacts
List&lt;Contact&gt; conList = new List&lt;Contact&gt; {
    new Contact(FirstName='Joe',LastName='Smith',Department='Finance'),
        new Contact(FirstName='Kathy',LastName='Smith',Department='Technology'),
        new Contact(FirstName='Caroline',LastName='Roth',Department='Finance'),
        new Contact(FirstName='Kim',LastName='Shain',Department='Education')};
            
// Bulk insert all contacts with one DML call
insert conList;

// List to hold the new contacts to update
List&lt;Contact&gt; listToUpdate = new List&lt;Contact&gt;();

// Iterate through the list and add a title only
//   if the department is Finance
for(Contact con : conList) {
    if (con.Department == 'Finance') {
        con.Title = 'Financial analyst';
        // Add updated contact sObject to the list.
        listToUpdate.add(con);
    }
}

// Bulk update all contacts with one DML call
update listToUpdate;
</pre></div>
</li>
<li class="li">Inspect the contacts recently created in your org.<p class="p">Two of the contacts who are in the
            Finance department should have their titles populated with <kbd class="ph userinput">Financial
              analyst</kbd>.</p>
</li>
</ol>
</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading6">Upserting Records</h3>
<p class="p">If you have a list containing a mix of new and existing records, you can process insertions
        and updates to all records in the list by using the <samp>upsert</samp> statement. Upsert helps avoid the creation of duplicate records and can
        save you time as you don’t have to determine which records exist first.</p>
<p class="p">The <samp>upsert</samp> statement matches the sObjects with
        existing records by comparing values of one field. If you don’t specify a field when calling
        this statement, the <samp>upsert</samp> statement uses the
        sObject’s ID to match the sObject with existing records in Salesforce. Alternatively, you
        can specify a field to use for matching. For custom objects, specify a custom field marked
        as external ID. For standard objects, you can specify any field that has the
          <span class="keyword parmname">idLookup</span> property set to true. For example, the Email field of
        Contact or User has the <span class="keyword parmname">idLookup</span> property set. To check a field’s
        property, see the <a class="xref" href="https://developer.salesforce.com/docs/atlas.en-us.206.0.object_reference.meta/object_reference/" target="_blank" title="HTML (New Window)">Object Reference for Salesforce and
          Force.com</a>.</p>
<p class="p"><strong class="ph b">Upsert Syntax</strong></p>
<p class="p"><samp>upsert<var class="keyword varname"> sObject | sObject[]</var></samp></p>
<p class="p"><samp>upsert<var class="keyword varname"> sObject |
            sObject[]</var>​​ <var class="keyword varname">field</var></samp></p>
<div class="p">The optional field is a field token. For example, to specify the MyExternalID field, the
        statement
        is:<div class="codeblock"><pre>upsert sObjectList Account.Fields.MyExternalId;</pre></div>
</div>
<p class="p">Upsert uses the sObject record's primary key (the ID), an idLookup field, or an external ID
        field to determine whether it should create a new record or update an existing one:</p>
<ul class="ul bulletList">
<li class="li">If the key is not matched, a new object record is created.</li>
<li class="li">If the key is matched once, the existing object record is updated. </li>
<li class="li">If the key is matched multiple times, an error is generated and the object record is
          neither inserted or updated. </li>
</ul>
<p class="p">This example shows how upsert updates an existing contact record and inserts a new contact
        in one call. This upsert call updates the existing Josh contact and inserts a new contact,
        Kathy.</p>
<div class="box message info"><div class="inner"><div class="bd"><div class="media"><img alt="Note" class="img mtm" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif"/><div class="mediaBd"><h4 class="mbs">Note</h4><p>The upsert call uses the ID to match the first contact. The <samp>josh</samp> variable is being reused for the upsert call. This
        variable has already been populated with the record ID from the previous insert call, so the
        ID doesn’t need to be set explicitly in this example. </p></div></div></div></div></div>
<ol class="ol enumList">
<li class="li">Execute this snippet in the Execute Anonymous window of the Developer
          Console.<div class="codeblock"><pre>// Insert the Josh contact
Contact josh = new Contact(FirstName='Josh',LastName='Kaplan',Department='Finance');       
insert josh;

// Josh's record has been inserted
//   so the variable josh has now an ID
//   which will be used to match the records by upsert
josh.Description = 'Josh\'s record has been updated by the upsert operation.';

// Create the Kathy contact, but don't persist it in the database
Contact kathy = new Contact(FirstName='Kathy',LastName='Brown',Department='Technology');

// List to hold the new contacts to upsert
List&lt;Contact&gt; contacts = new List&lt;Contact&gt; { josh, kathy };

// Call upsert
upsert contacts;

// Result: Josh is updated and Kathy is created.</pre></div>
</li>
<li class="li">Inspect all contacts in your org.<p class="p">Your org will have only one Josh Kaplan record, not
            two, because the upsert operation found the existing record and updated it instead of
            creating a new contact record. One Kathy Brown contact record will be there
          too.</p>
</li>
</ol>
<p class="p">Alternatively, you can specify a field to be used for matching records. This example uses
        the Email field on Contact because it has <span class="keyword parmname">idLookup</span> property set. The
        example inserts the Jane Smith contact, and creates a second Contact sObject, populates it
        with the same email, then calls <samp>upsert</samp> to update the
        contact by using the email field for matching.</p>
<div class="box message info"><div class="inner"><div class="bd"><div class="media"><img alt="Note" class="img mtm" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif"/><div class="mediaBd"><h4 class="mbs">Note</h4><p>If <samp>insert</samp> was used in this example instead of
          <samp>upsert</samp>, a duplicate Jane Smith contact would have
        been inserted.</p></div></div></div></div></div>
<ol class="ol enumList">
<li class="li">Execute this snippet in the Execute Anonymous window of the Developer
          Console.<div class="codeblock"><pre>Contact jane = new Contact(FirstName='Jane',
                         LastName='Smith',
                         Email='jane.smith@example.com',
                         Description='Contact of the day');
insert jane;

// 1. Upsert using an idLookup field
// Create a second sObject variable.
// This variable doesn’t have any ID set.
Contact jane2 = new Contact(FirstName='Jane',
                         LastName='Smith',  
                         Email='jane.smith@example.com',
                         Description='Prefers to be contacted by email.');
// Upsert the contact by using the idLookup field for matching.
upsert jane2 Contact.fields.Email;

// Verify that the contact has been updated
System.assertEquals('Prefers to be contacted by email.',
                   [SELECT Description FROM Contact WHERE Id=:jane.Id].Description);
</pre></div>
</li>
<li class="li">Inspect all contacts in your org.<p class="p">Your org will have only one Jane Smith contact with
            the updated description.</p>
</li>
</ol>
</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading7">Deleting Records</h3>
<p class="p">You can delete persisted records using the <samp>delete</samp>
        statement. Deleted records aren’t deleted permanently from Force.com, but they’re placed in the
          Recycle Bin for
          15 days from where
        they can be restored.</p>
<p class="p">This example shows how to delete all contacts whose last name is Smith. If you’ve run the
        sample for bulk DML, your org should already have two contacts with the last name of Smith.
        Execute this snippet in the Developer Console using Anonymous Apex, and then verify that
        there are no contacts with the last name Smith anymore.</p>
<div class="codeblock"><pre>Contact[] contactsDel = [SELECT Id FROM Contact WHERE LastName='Smith']; 
delete contactsDel;
</pre></div>
<div class="box message info"><div class="inner"><div class="bd"><div class="media"><img alt="Note" class="img mtm" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif"/><div class="mediaBd"><h4 class="mbs">Note</h4><p>This snippet includes a query to retrieve the contacts (a SOQL query). You’ll learn more
        about SOQL in another unit.</p></div></div></div></div></div>
</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading8">DML Statement Exceptions</h3>
<p class="p">If a DML operation fails, it returns an exception of type <samp>DmlException</samp>. You can catch exceptions in your code to handle error
        conditions.</p>
<p class="p">This example produces a <samp>DmlException</samp> because it
        attempts to insert an account without the required Name field. The exception is caught in
        the catch block.</p>
<div class="codeblock"><pre>try {
    // This causes an exception because 
    //   the required Name field is not provided.
    Account acct = new Account();
    // Insert the account 
    insert acct;
} catch (DmlException e) {
    System.debug('A DML exception has occurred: ' +
                e.getMessage());
}</pre></div>
</div>
</div>
</div>
<div class="topic concept nested0" id="apex_database_dml_methods.xml" lang="en-us" xml:lang="en-us" xmlns:xml="http://www.w3.org/XML/1998/namespace"><a name="apex_database_dml_methods.xml"></a>
<h2 class="helpHead2" id="Tdxn4tBK-heading9"><span class="ph" id="topic-title"><a name="topic-title"></a>Database Methods</span></h2>
<div class="body conbody"><div class="shortdesc">Apex contains the built-in Database class, which provides methods that perform DML
    operations and mirror the DML statement counterparts.</div>
<div class="section">
<p class="p">These Database methods are static and are called on the class name.</p>
<ul class="ul bulletList">
<li class="li"><samp>Database.insert()</samp></li>
<li class="li"><samp>Database.update()</samp></li>
<li class="li"><samp>Database.upsert()</samp></li>
<li class="li"><samp>Database.delete()</samp></li>
<li class="li"><samp>Database.undelete()</samp></li>
<li class="li"><samp>Database.merge()</samp></li>
</ul>
<p class="p">Unlike DML statements, Database methods have an optional <span class="keyword parmname">allOrNone</span>
        parameter that allows you to specify whether the operation should partially succeed. When
        this parameter is set to <samp>false</samp>,  if errors occur on a partial set of
        records, the successful records will be committed and errors will be returned for the failed
        records. Also, no exceptions are thrown with the partial success option.</p>
<p class="p">This is how you call the <samp>insert</samp> method with the
          <span class="keyword parmname">allOrNone</span> set to <samp>false</samp>.</p>
<div class="codeblock"><pre>Database.insert(recordList, false);</pre></div>
<p class="p">The Database methods return result objects containing success or failure information for
        each record. For example, insert and update operations each return an array of
          <samp>Database.SaveResult</samp> objects.</p>
<div class="codeblock"><pre>Database.SaveResult[] results = Database.insert(recordList, false);</pre></div>
<div class="box message info"><div class="inner"><div class="bd"><div class="media"><img alt="Note" class="img mtm" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif"/><div class="mediaBd"><h4 class="mbs">Note</h4><p>Upsert returns <samp>Database.UpsertResult</samp> objects, and delete returns
          <samp>Database.DeleteResult</samp> objects.</p></div></div></div></div></div>
<p class="p">By default, the <span class="keyword parmname">allOrNone</span> parameter is <samp>true</samp>, which
        means that the Database method behaves like its DML statement counterpart and will throw an
        exception if a failure is encountered.</p>
<p class="p">The following two statements are equivalent to the <samp>insert recordList;</samp>
        statement.</p>
<div class="codeblock"><pre>Database.insert(recordList);</pre></div>
<p class="p">And:</p>
<div class="codeblock"><pre>Database.insert(recordList, true);</pre></div>
<div class="btb callout box guidedTour"><div class="inner"><div class="bd"><div class="media"><div class="mediaBd"><h4 class="mbs">Beyond the Basics</h4><p>In addition to these methods, the Database class contains
        methods that aren’t provided as DML statements. For example, methods used for transaction
        control and rollback, for emptying the Recycle Bin, and methods related to SOQL queries.
        You’ll learn about SOQL in another unit.</p></div></div></div></div></div>
</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading10">Example: Inserting Records with Partial Success</h3>
<p class="p">Let’s take a look at an example that uses the Database methods. This example is based on
        the bulk DML example, but replaces the DML statement with a Database method. The
          <samp>Database.insert()</samp> method is called with the partial success option. One
        contact in the list doesn’t have any fields on purpose and will cause an error because the
        contact can’t be saved without the required <span class="keyword parmname">LastName</span> field. Three
        contacts are committed and the contact without any fields generates an error. The last part
        of this example iterates through the returned results and writes debug messages to the debug
        log.</p>
<ol class="ol enumList">
<li class="li">Execute this example in the Execute Anonymous window of the Developer
          Console.<div class="codeblock"><pre>// Create a list of contacts
List&lt;Contact&gt; conList = new List&lt;Contact&gt; {
        new Contact(FirstName='Joe',LastName='Smith',Department='Finance'),
        new Contact(FirstName='Kathy',LastName='Smith',Department='Technology'),
        new Contact(FirstName='Caroline',LastName='Roth',Department='Finance'),
        new Contact()};
            
// Bulk insert all contacts with one DML call
Database.SaveResult[] srList = Database.insert(conList, false);

// Iterate through each returned result
for (Database.SaveResult sr : srList) {
    if (sr.isSuccess()) {
        // Operation was successful, so get the ID of the record that was processed
        System.debug('Successfully inserted contact. Contact ID: ' + sr.getId());
    } else {
        // Operation failed, so get all errors
        for(Database.Error err : sr.getErrors()) {
            System.debug('The following error has occurred.');
            System.debug(err.getStatusCode() + ': ' + err.getMessage());
            System.debug('Contact fields that affected this error: ' + err.getFields());
	 }
    }
}
</pre></div>
</li>
<li class="li">Verify the debug messages (use the DEBUG keyword for the filter). <p class="p">One failure should
            be reported and three contacts should have been inserted.</p>
</li>
</ol>
</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading11">Should You Use DML Statements or Database Methods?</h3>
<ul class="ul bulletList">
<li class="li">Use DML statements if you want any error that occurs during bulk DML processing to
                be thrown as an Apex exception
                that immediately interrupts control flow (by using <samp>try. . .catch</samp> blocks). This behavior is similar to the way exceptions
                are handled in most database procedural languages. </li>
<li class="li">Use Database class methods if you want to allow partial success of a bulk DML
                operation—if a record fails, the remainder of the DML operation can still
                succeed. Your application can then inspect the rejected records and possibly retry
                the operation. When using this form, you can write code that never throws DML
                exception errors. Instead, your code can use the appropriate results array to judge
                success or failure. Note that Database methods also include a syntax that supports
                thrown exceptions, similar to DML statements. </li>
</ul>
</div>
</div>
</div>
<div class="topic concept nested0" id="apex_database_dml_related_records" lang="en-us" xml:lang="en-us" xmlns:xml="http://www.w3.org/XML/1998/namespace"><a name="apex_database_dml_related_records"></a>
<h2 class="helpHead2" id="Tdxn4tBK-heading12"><span class="ph" id="topic-title"><a name="topic-title"></a>Working with Related Records</span></h2>
<div class="body conbody"><div class="shortdesc">Create and manage records that are related to each other through
    relationships.</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading13">Inserting Related Records</h3>
<p class="p">You can insert records related to existing records if a relationship has already been
        defined between the two objects, such as a lookup or master-detail relationship. A record is
        associated with a related record through a foreign key ID. For example, if inserting a new
        contact, you can specify the contact's related account record by setting the value of the
          <samp>AccountId</samp> field.</p>
<p class="p">This example shows how to add a contact to an account (the related record) by setting the
          <samp>AccountId</samp> field on the contact. Contact and
        Account are linked through a lookup relationship.</p>
<ol class="ol enumList">
<li class="li">Execute this snippet in the Anonymous Apex window of the Developer
          Console.<div class="codeblock"><pre>Account acct = new Account(Name='SFDC Account');
insert acct;

// Once the account is inserted, the sObject will be 
// populated with an ID.
// Get this ID.
ID acctID = acct.ID;

// Add a contact to this account.
Contact mario = new Contact(
    FirstName='Mario',
    LastName='Ruiz',
    Phone='415.555.1212',
    AccountId=acctID);
insert mario;
</pre></div>
</li>
<li class="li">Inspect the contacts in your org.<p class="p">A new account (SFDC Account) has been created and
            has the Mario Ruiz contact in the account’s Contacts related list.</p>
</li>
</ol>
</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading14">Updating Related Records</h3>
<div class="p">Fields on related records can't be updated with the same call to the DML operation and
        require a separate DML call. For example, if inserting a new contact, you can specify the
        contact's related account record by setting the value of the <samp>AccountId</samp> field. However, you can't change the account's name without updating
        the account itself with a separate DML call. Similarly, when updating a contact, if you also
        want to update the contact’s related account, you must make two DML calls. The
        following example updates a contact and its related account using two <samp>update</samp>
        statements.<div class="codeblock"><pre>// Query for the contact, which has been associated with an account.
Contact queriedContact = [SELECT Account.Name 
                          FROM Contact 
                          WHERE FirstName = 'Mario' AND LastName='Ruiz'
                          LIMIT 1];

// Update the contact's phone number
queriedContact.Phone = '(415)555-1213';

// Update the related account industry
queriedContact.Account.Industry = 'Technology';

// Make two separate calls 
// 1. This call is to update the contact's phone.
update queriedContact;
// 2. This call is to update the related account's Industry field.
update queriedContact.Account; 
</pre></div>
</div>
</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading15">Deleting Related Records</h3>
<p class="p">The <samp>delete</samp> operation supports cascading deletions.
        If you delete a parent object, you delete its children automatically, as long as each child
        record can be deleted. </p>
<p class="p">For example, deleting the account you created earlier (SFDC Account) will delete its
        related contact too.</p>
<ol class="ol enumList">
<li class="li">Execute this snippet in the Anonymous Apex window of the Developer
          Console.<div class="codeblock"><pre>Account[] queriedAccounts = [SELECT Id FROM Account WHERE Name='SFDC Account'];
delete queriedAccounts;</pre></div>
</li>
<li class="li">Check the accounts and contacts in your org.<p class="p">You’ll see that both the account and its
            related contact were deleted.</p>
</li>
</ol>
</div>
<div class="section"><h3 class="helpHead3" id="Tdxn4tBK-heading16">About Transactions</h3>
<p class="p">DML operations execute within a transaction. All DML operations
    in a transaction either complete successfully, or if an error occurs in one operation, the
    entire transaction is rolled back and no data is committed to the database. The boundary of a
    transaction can be a trigger, a class method, an anonymous block of code, an Apex page, or a custom Web
    service method. For example, if a trigger or class creates two accounts and updates one contact, and the
        contact update fails because of a validation rule failure, the entire transaction rolls back
        and none of the accounts are persisted in Salesforce.</p>
</div>
</div>
</div>
<div class="topic nested0" id="apex_database_dml_resources" lang="en-us" xml:lang="en-us" xmlns:xml="http://www.w3.org/XML/1998/namespace"><a name="apex_database_dml_resources"></a>
<h2 class="helpHead2" id="Tdxn4tBK-heading17">
<span class="ph" id="topic-title"><a name="topic-title"></a>Resources</span>
</h2>
<div class="body">
<ul class="ul bulletList">
<li class="li Documentation"><cite class="cite"><a class="xref" href="https://developer.salesforce.com/docs/atlas.en-us.206.0.apexcode.meta/apexcode" target="_blank" title="HTML (New Window)">Apex Developer Guide</a></cite></li>
<li class="li Documentation"><cite class="cite">Apex Developer Guide</cite>: <a class="xref" href="https://developer.salesforce.com/docs/atlas.en-us.206.0.apexcode.meta/apexcode/apex_data_intro.htm" target="_blank" title="HTML (New Window)">Working with Data in Apex</a></li>
<li class="li Documentation"><cite class="cite">Apex Developer Guide</cite>: <a class="xref" href="https://developer.salesforce.com/docs/atlas.en-us.206.0.apexcode.meta/apexcode/apex_dml_section.htm" target="_blank" title="HTML (New Window)">Adding and Retrieving Data</a></li>
<li class="li Documentation"><cite class="cite">Apex Developer Guide</cite>: <a class="xref" href="https://developer.salesforce.com/docs/atlas.en-us.206.0.apexcode.meta/apexcode/apex_methods_system_database.htm" target="_blank" title="HTML (New Window)">Database Class</a></li>
</ul>
<div class="box message info"><div class="inner"><div class="bd"><div class="media"><img class="img mtm" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usc504a262d3ae7aa180918396b7c09a71.png"/><div class="mediaBd"><p>Remember, this module is meant for
            Salesforce Classic. When you launch your hands-on org, <a class="xref" href="https://help.salesforce.com/articleView?id=lex_switching_uis.htm&amp;language=en_US" target="_blank">switch to Salesforce Classic</a> to complete this
            challenge.</p></div></div></div></div></div>
</div>
</div>
</body></div>